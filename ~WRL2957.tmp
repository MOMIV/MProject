Название проекта
===========

Cоздание ETL-процесса формирования витрин данных для анализа изменений курса акций.

Описание задачи
===========
<details>
<summary> :white_check_mark: </summary>

Разработать скрипты загрузки данных в 2-х режимах:

• Инициализирующий — загрузка полного слепка данных источника

• Инкрементальный — загрузка дельты данных за прошедшие сутки

Организовать правильную структуру хранения данных:

• Сырой слой данных

• Промежуточный слой

• Слой витрин

В качестве результата работы программного продукта необходимо написать скрипт, который формирует витрину данных следующего содержания:

• Суррогатный ключ категории

• Название валюты

• Суммарный объем торгов за последние сутки

• Курс валюты на момент открытия торгов для данных суток

• Курс валюты на момент закрытия торгов для данных суток

• Разница (в %) курса с момента открытия до момента закрытия торгов для данных суток

• Минимальный временной интервал, на котором был зафиксирован самый крупный объем торгов для данных суток

• Минимальный временной интервал, на котором был зафиксирован максимальный курс для данных суток

• Минимальный временной интервал, на котором был зафиксирован минимальный курс торгов для данных суток

Дополнение:

В качестве основы витрины необходимо выбрать 3–5 различных валют или акций компаний.

Источники:

[Free Stock APIs in JSON & Excel | Alpha Vantage](https://www.alphavantage.co/) 

</details>


План реализации
===========

1. Анализ источника данных для определения способа сбора информации

2. Проектирование структуры DWH

3. Определение стека используемых при реализации проекта  технологий 

4. Физическая реализация проекта: написание скриптов для создания БД, настройка соединений


Анализ источника данных для определения способа сбора информации
===========
Заданный в качестве источника данных  API предоставляет глобальные данные по акциям в 4 различных временных разрешениях: (1) ежедневно, (2) еженедельно, (3) ежемесячно и (4) внутридневно.

Т.к. нам необходимо определить временные интервалы на которых был зафиксирован минимальный/максимальный курс торгов за сутки и самый крупный объем торгов за сутки - мы выбираем API возвращающий внутридневные временные ряды TIME_SERIES_INTRADAY.

API позволяет задать интервал времени между двумя последовательными точками данных во временном ряду. Поддерживаются следующие значения: 1min, 5min, 15min, 30min,60min.

Т.к. нам нужно найти минимальные временные интервалы, выбираем интервал равный 1min.

В качестве основы витрины выбираем 5 акций популярных компаний:

• AAPL – Apple

• NVDA – NVIDIA

• TSLA – Tesla

• BABA - Alibaba ADR

• META - Meta Platforms


ER-диаграмма
===========
![Image alt](https://github.com/MOMIV/MProject/blob/main/doc/pic/ERD.png)

Используемые технологии с обоснованием
===========
• PostgreSQL

Объем извлекаемымх данных не велик. 
С учетом часов работы рынков с 04.00 до 20.00 и интервала извлечения 1min мы получаем порядка 960 записей в день по каждой акции.
Выгружать данные можно за месяц, либо последние 100 точек данных. 
Количество записей за месяц 28800.
По 5 акциям 28800*5 = 144000 записей.

Извлекаемые данные структурированы, для их хранения и обработки подходят реляционные базы данных, такие как PostgreSQL.
 
• Airflow
Оркестратор, используемый для разработки, планирования и мониторинга рабочих процессов - имеет удобный веб-интерфейс для создания конвейеров данных, где можно наглядно отслеживать жизненный цикл данных в цепочках связанных задач.

Запуск проекта
===========



Результаты разработки
===========



Выводы
===========
*Создан ETL-процесс формирования витрин данных для анализа изменений курса акций
*В процессе выполнения работы закреплены на практике знания и навыки работы с изученными на курсе технологиями  используемыми в инженерии данных

